---
name: ""
overview: ""
todos: []
isProject: false
---

# Plan – App (ohne Code)

**Regel:** Alles, was du sagst, wird in dieser Datei festgehalten. Es geht um Planung für die App, keine Code-Änderungen.

---

## Einträge

- **Heute:** Plan für die App erstellen. Kein Code für die App – nur Planung.
- **Kundenübersicht – Belege:**
  - In der Kundenübersicht soll ein Tab „Belege“ existieren, der die Belege dieses Kunden zeigt.
  - Dort soll man auch einen Beleg für den Kunden erstellen können.
  - Ein Beleg soll bearbeitbar sein – solange man eine Erfassung bearbeitet; alles soll in dieser Erfassung enthalten sein.
- **Beleg-Erstellung – Formular (Vorlage: Wäscheliste):**
  - Es soll ein Formular nach dem Beispiel der Wäscheliste gebaut werden. Dieses Formular wird bei der Beleg-Erstellung verwendet; die eingetragenen Werte (Artikl/Mengen) fließen in den Beleg ein.
  - **Struktur des Formulars (aus dem Bild):**
    - **Kundendaten:** NAME, ADRESSE, TELEFON – Eingabefelder (können aus Kunde vorbelegt werden).
    - **Artikl-Tabelle:** Für jeden Wäscheartikel ein Mengenfeld (STÜCK) und Bezeichnung (Wäschebezeichnung). Artikel z. B.: Bettbezüge, Bettlagen, Kopfkissenbezüge, Spannbettlagen, Couverts, Tafeltücher, Tischdecken, Servietten, Geschirrtücher, Handtücher, Badetücher, Waschlappen, Bademantel, Babydecken, Wolldecken, Steppdecken, Taschentücher, Unterwäsche, Nachthemden, Schlafanzüge, Oberhemden, Blusen, Textilbekleid. (waschbar), Store, Übergardinen, Kissenhüllen; Berufswäsche Weiss (Kittel, Jacken, Hosen, Mützen, Overall, Vorstrecker); Berufswäsche Dunkel (Kittel, Jacken, Hosen, Latzhosen, Overall, Wattejacken).
    - **SONSTIGES:** Freitextzeile für nicht gelistete Artikel.
    - **GESAMT:** Feld für Gesamtsumme (Mengen/Preis) – idealerweise berechnet.
  - **Verwendung:** Das Formular wird mit den jeweiligen Artikln (und Mengen) ausgefüllt; die erfassten Daten werden in der Beleg-Erstellung verwendet.
- **Einbau in der App – wo steht das Formular?**
  - **Bereich:** Kundenübersicht (Kundendetail).
  - **Ort:** Im Tab „Belege“ → Aktion „Beleg erstellen“ (oder „Neuer Beleg“). Beim Anlegen/Bearbeiten eines Belegs wird dieses Formular angezeigt bzw. ausgefüllt. Alles bleibt in der Erfassung des Belegs (wie zuvor festgehalten).
  - **Alternativ denkbar:** Beleg-Erstellung könnte auch von einer zentralen Belege-Übersicht aus starten (wenn es so eine gibt); dann muss der Kunde ausgewählt werden. Die naheliegende Stelle ist aber: Kunde öffnen → Tab Belege → Beleg erstellen → Formular.
- **Button „Kamera / Foto“ (Erfassungsbildschirm):**
  - Es soll ein **Button „Kamera / Foto“** geben. Über diesen Button kann der Nutzer **entweder** ein **bereits vorhandenes Foto** eines Formulars auswählen und hochladen **oder** die Liste/das Formular **per Kamera fotografieren**. Das Bild wird anschließend **gescannt** (analysiert) und die Felder werden befüllt.
- **Kamera / Scan – Formular erfassen:**
  - Es soll möglich sein, das (papierne) Formular eines Kunden per **Kamera zu scannen bzw. zu fotografieren**.
  - Die **App soll das Bild analysieren** (z. B. Texterkennung / Formularerkennung) und die **entsprechenden Felder automatisch füllen** (Kundendaten, Artikl-Mengen, Sonstiges, ggf. Gesamt). Der Nutzer kann danach prüfen und korrigieren.
  - Technisch: spätere Umsetzung z. B. mit OCR / ML-Modell für Formularfelder; in der Planung nur als Anforderung festhalten.
- **Kunde erkannt – Stammdaten ergänzen:**
  - Wurde der Kunde über das Formular (z. B. nach Scan) erkannt und **existiert der Kunde bereits**, im **Kundenstamm fehlen aber Adresse oder Telefonnummer**, sollen **Adresse und/oder Telefon aus dem Formular automatisch vorgeschlagen werden**, um den Kundenstamm zu ergänzen.
  - Die Übernahme in den Kundenstamm erfolgt **erst nach Bestätigung durch den Benutzer** (z. B. Hinweis „Adresse/Telefon im Kundenstamm ergänzen?“ mit Ja/Nein oder Vorschau der Änderung).
- **Erfassung – Bildschirm / Buttons:**
  - Auf dem Bildschirm der Erfassung (Beleg-Erfassung) sollen die **Buttons viereckig mit abgerundeten Ecken** sein.
  - Pro Zeile sollen **2 Buttons** angezeigt werden.

---

## Umsetzung (Stand)

- Tab „Belege“ in der Kundenübersicht: umgesetzt (Belege pro Kunde, „Beleg erstellen“, Klick auf Beleg öffnet Beleg-Detail in WaschenErfassungActivity).
- Wäscheliste-Formular: umgesetzt (Kundendaten, Artikl in 2 Spalten, Mengen, Sonstiges, Gesamt; Speichern erzeugt Erfassung; Buttons „Kamera / Foto“ + „Abbrechen“, „Speichern“; 2 Buttons pro Zeile, abgerundet).
- Button „Kamera / Foto“: Kamera- und Galerie-Auswahl implementiert; Bildauswahl führt aktuell zu Stub + Hinweis; OCR/Scan für spätere Version vorgesehen.
- Stammdaten ergänzen: umgesetzt (Dialog nach Formular-Speichern, wenn Adresse/Telefon im Stamm fehlen aber im Formular vorhanden; nur nach Bestätigung Update).
- BELEG_MONTH_KEY: beim Start mit Kunde + Monats-Key wird der passende Beleg einmalig geöffnet.
- Fehlermeldungen aus String-Ressourcen; Zahlen-Tastatur für Mengenfelder im Formular.

